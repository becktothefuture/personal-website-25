<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Starfield & Scroll Tracker Demo (10/10)</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
      color: #fff;
      font-family: sans-serif;
    }
    /* Fullscreen canvas for the starfield */
    #starfield {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
    }
    /* Debug overlay displaying scroll tracker state */
    #debug-overlay {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 4px;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <canvas id="starfield"></canvas>
  <div id="debug-overlay">Debug Info</div>
  <script type="module">
    import { initStarfieldThruster } from '../scripts/modules/starfieldThruster.js';
    import { scrollTracker } from '../scripts/modules/scrollTracker.js';

    // Initialize the starfield (which subscribes to scrollTracker events).
    initStarfieldThruster();
    
    // Debug overlay: update display with scrollTracker values.
    const debugOverlay = document.getElementById("debug-overlay");
    function updateDebug() {
      const state = scrollTracker.getState();
      const config = scrollTracker.getConfig();
      debugOverlay.innerHTML =
        `Extra Velocity: ${state.velocity.toFixed(2)} km/h<br>` +
        `Last Impulse: ${state.lastImpulse.toFixed(2)} km/h<br>` +
        `Base Speed: ${config.baseSpeed} km/h<br>` +
        `Total Speed: ${(config.baseSpeed + state.velocity).toFixed(2)} km/h`;
      requestAnimationFrame(updateDebug);
    }
    updateDebug();
  </script>
</body>
</html>